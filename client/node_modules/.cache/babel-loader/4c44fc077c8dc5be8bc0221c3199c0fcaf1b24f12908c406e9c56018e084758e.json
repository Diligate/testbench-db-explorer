{"ast":null,"code":"var _jsxFileName = \"/home/user5/Desktop/Imbus_Intern/client/src/pages/client/tableDetail/index.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\nimport background from \"../../../assets/images/background4.png\";\nimport logo from \"../../../assets/images/logo.png\";\nimport Alert from \"../../../components/ui/Alert\";\nimport RoundedIconButton from \"../../../components/ui/roundedIconButton\";\nimport { TOAST } from \"../../../data/toast\";\nimport Columns from \"./columns\";\nimport ColumnsFk from \"./columnsFk\";\nimport InputRow from \"./inputRow\";\nimport RelationsFk from \"./relationsFk\";\nimport RelationsPk from \"./relationsPk\";\nimport Result from \"./result\";\nimport ForceGraph2D from \"react-force-graph-2d\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function TableDetail() {\n  _s();\n  let navigate = useNavigate();\n  const {\n    name\n  } = useParams();\n  const [table, setTable] = useState({});\n  const [shown, setShown] = useState([]);\n  const [attributes, setAttributes] = useState([]);\n  const [inputs, setInputs] = useState({});\n  const [rowsDB, setRowsDB] = useState({});\n  const [showDetail, setShowDetail] = useState(true);\n  const [relationsP, setRelationsP] = useState([]);\n  const [localGraph, setLocalGraph] = useState({\n    nodes: [],\n    links: []\n  });\n  useEffect(() => {\n    fetch(\"http://localhost:5500/tables/one/\" + name).then(res => res.json()).then(data => {\n      setTable(data);\n      fetch(\"http://localhost:5500/attributes/table/\" + data.id).then(res => res.json()).then(data => setAttributes(data));\n      fetch(\"http://localhost:5500/attributes/name/\" + data.name).then(res => res.json()).then(data => {\n        setRelationsP(data);\n      });\n      fetch(\"http://localhost:5500/tables/graph/view\").then(res => res.json()).then(g => {\n        const node = g.nodes.find(n => n.name === name);\n        if (!node) return;\n        const neighbors = new Set([node.id]);\n        g.links.forEach(l => {\n          if (l.source === node.id) neighbors.add(l.target);\n          if (l.target === node.id) neighbors.add(l.source);\n        });\n        const nodes = g.nodes.filter(n => neighbors.has(n.id));\n        const links = g.links.filter(l => neighbors.has(l.source) && neighbors.has(l.target));\n        setLocalGraph({\n          nodes,\n          links\n        });\n      });\n    }).catch(() => {\n      navigate(\"/404\");\n    });\n  }, [name]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const handleSubmit = event => {\n    setRowsDB({});\n    Object.keys(inputs).forEach(async function (key, index) {\n      if (inputs[key] && !isNaN(inputs[key])) {\n        fetch(`http://localhost:5500/tables/search/${key}/PK/${inputs[key]}`).then(res => res.json()).then(data => {\n          if (data.length > 0) {\n            setRowsDB(prev => {\n              return {\n                ...prev,\n                [key]: data\n              };\n            });\n          } else {\n            setShown(prev => [...prev, /*#__PURE__*/_jsxDEV(Alert, {\n              title: TOAST.warning.title,\n              text: \"There is not row with this primary key.\",\n              color: TOAST.warning.color,\n              svg: TOAST.warning.svg\n            }, 5, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 17\n            }, this)]);\n          }\n        }).catch(() => {\n          setRowsDB({});\n          setInputs({});\n        });\n      } else {\n        setShown(prev => [...prev, /*#__PURE__*/_jsxDEV(Alert, {\n          title: TOAST.error.title,\n          text: \"Please enter a valid value (number).\",\n          color: TOAST.error.color,\n          svg: TOAST.error.svg\n        }, 5, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)]);\n      }\n    });\n    event.preventDefault();\n  };\n  const columns = Columns(attributes);\n  const columnsFk = ColumnsFk(attributes);\n  const relationsPk = RelationsPk(relationsP, attributes, table);\n  const relationsFk = RelationsFk(attributes, table);\n  const inputRow = InputRow(attributes, setInputs);\n  const result = Result(rowsDB);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-screen w-screen  \",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed bottom-3 right-0 flex flex-col items-end gap-1 z-30\",\n      children: shown\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"px-8 py-2 text-left mb-5 h-36 bg-gradient-to-r bg-cover bg-left-top  from-teal-400 to-orange-300 w-full\",\n      style: {\n        backgroundImage: `url(${background})`\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"absolute top-0 left-0 m-0 p-0 bg-gray-700 opacity-20   w-full h-36\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/home\",\n        className: \"flex flex-col mt-4 items-center justify-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: logo,\n          alt: \"logo\",\n          className: \"h-12 z-20\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"block text-2xl font-medium  text-white cursor-default tracking-wider z-20\",\n          children: \"TestBench-VS\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col justify-center items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-2xl mx-auto sm:max-w-xl md:max-w-2xl mt-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"max-w-xl mb-6 md:mx-auto sm:text-center lg:max-w-2xl md:mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"inline-block px-3 py-2 mb-4 text-xs font-semibold tracking-wider text-white uppercase rounded-full bg-orange-500\",\n                children: [table.rowCount, \" Row\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"max-w-lg mb-6 font-sans text-3xl font-bold leading-none tracking-tight text-gray-900 sm:text-4xl md:mx-auto flex justify-start\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"relative inline-block \",\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  viewBox: \"0 0 52 24\",\n                  fill: \"currentColor\",\n                  className: \"absolute top-0 left-0 hidden w-32 -mt-8 -ml-20 text-blue-gray-100 lg:w-32 lg:-ml-28 lg:-mt-10 sm:block fill-[#3e9688] \",\n                  children: [/*#__PURE__*/_jsxDEV(\"defs\", {\n                    children: /*#__PURE__*/_jsxDEV(\"pattern\", {\n                      id: \"b039bae0-fdd5-4311-b198-8557b064fce0\",\n                      x: \"0\",\n                      y: \"0\",\n                      width: \".135\",\n                      height: \".30\",\n                      children: /*#__PURE__*/_jsxDEV(\"circle\", {\n                        cx: \"1\",\n                        cy: \"1\",\n                        r: \".7\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 161,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 154,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 153,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n                    fill: \"url(#b039bae0-fdd5-4311-b198-8557b064fce0)\",\n                    width: \"52\",\n                    height: \"24\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 164,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 148,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"z-20 text-left bg-white\",\n                children: [\" \", table.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-base text-gray-700 md:text-lg\",\n              children: table.description ? table.description : \"no description yet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center mx-auto mb-10 \",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"inline-block w-40 h-1 bg-orange-400 rounded-full\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"inline-block w-3 h-1 mx-1 bg-orange-400 rounded-full\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"inline-block w-1 h-1 bg-orange-400 rounded-full\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full h-80 px-4 lg:px-20 mb-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded shadow p-2 h-full\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm font-semibold mb-1\",\n            children: \"Relationships around this table\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ForceGraph2D, {\n            graphData: localGraph,\n            nodeId: \"id\",\n            height: 300,\n            nodeLabel: n => {\n              var _n$pkColumns;\n              return `${n.name}\\nPKs: ${((_n$pkColumns = n.pkColumns) === null || _n$pkColumns === void 0 ? void 0 : _n$pkColumns.join(\", \")) || \"(none)\"}`;\n            },\n            linkDirectionalArrowLength: 6,\n            linkDirectionalArrowRelPos: 1,\n            linkLabel: l => `${l.fkColumn} -> ${l.target}${l.pkColumn ? ` (PK: ${l.pkColumn})` : \"\"}`,\n            nodeAutoColorBy: \"group\",\n            onNodeClick: node => navigate(`/table/${node.name}`),\n            nodeCanvasObject: (node, ctx, globalScale) => {\n              const label = node.name;\n              const fontSize = 12 / Math.max(0.5, globalScale);\n              ctx.font = `${fontSize}px Sans-Serif`;\n              const textWidth = ctx.measureText(label).width;\n              const bckgDimensions = [textWidth + 8, fontSize + 4];\n              ctx.fillStyle = node.color || \"#fff\";\n              ctx.beginPath();\n              ctx.arc(node.x, node.y, 4, 0, 2 * Math.PI, false);\n              ctx.fill();\n              ctx.lineWidth = 2;\n              ctx.strokeStyle = \"#333\";\n              ctx.stroke();\n              ctx.fillStyle = \"rgba(255,255,255,0.9)\";\n              ctx.fillRect(node.x - bckgDimensions[0] / 2, node.y - 12 - bckgDimensions[1] / 2, ...bckgDimensions);\n              ctx.textAlign = \"center\";\n              ctx.textBaseline = \"middle\";\n              ctx.fillStyle = \"#111\";\n              ctx.fillText(label, node.x, node.y - 12);\n              node.__bckgDimensions = bckgDimensions;\n            },\n            nodePointerAreaPaint: (node, color, ctx) => {\n              const bckgDimensions = node.__bckgDimensions || [0, 0];\n              ctx.fillStyle = color;\n              ctx.fillRect(node.x - bckgDimensions[0] / 2, node.y - 12 - bckgDimensions[1] / 2, ...bckgDimensions);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center items-center mx-auto mb-5 \",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"px-6 text-xl  italic\",\n          children: \"Meta data\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"AcceptConditions\",\n          className: \"relative w-16 h-8 cursor-pointer\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            id: \"AcceptConditions\",\n            className: \"sr-only peer\",\n            onChange: e => setShowDetail(prev => !prev)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"absolute inset-0 bg-orange-400 rounded-full transition peer-checked:bg-[#3e9688]\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"absolute inset-0 w-6 h-6 m-1 bg-white rounded-full transition peer-checked:translate-x-8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"px-6 text-xl  italic\",\n          children: \"Data search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }, this), showDetail ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \" relative flex flex-col  lg:flex-row justify-start items-start w-full h-full px-4 lg:px-20 pb-4 gap-2 mt-5 m-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full h- flex flex-col justify-start items-start m-0 basis-7/12 gap-2 \",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \" flex flex-col gap-2 w-full m-0 p-5   \",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"mb-4 text-lg w-max border-b-2 border-orange-500 \",\n              children: \"Columns\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col justify-start items-start gap-2 w-full border-b border-dashed border-[#3e9688] pb-1\",\n              children: columns\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \" w-full m-0 p-5 bg-white rounded-lg text-neutral-900 \",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"mb-4 w-max text-lg border-b-2 border-[#3e9688] border-dashed \",\n              children: \"Foreign Keys\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col justify-start items-start gap-2 w-full\",\n              children: columnsFk.length > 0 ? columnsFk : \"This table don't have any foreign key.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full flex flex-col justify-start items-start  flex-1 gap-2 mt-9 lg:mt-0 p-5  border-2 border-orange-600 border-dashed rounded-lg self-start \",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"mb-4 text-lg border-b-2 border-[#3e9688] \",\n            children: \"Relations\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full flex flex-col justify-start items-start gap-2\",\n            children: relationsPk.length > 0 || relationsFk.length > 0 ? [relationsFk, relationsPk] : \"This table is not link to any other table :( ...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col justify-start items-center gap-6 m-3 p-2 w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"flex justify-center items-center flex-col flex-wrap lg:flex-row h-min gap-3 w-fit\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-center items-center flex-col flex-wrap md:flex-row gap-2\",\n            children: inputRow\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"lg:self-end -mb-1\",\n            children: inputRow.length > 0 ? /*#__PURE__*/_jsxDEV(RoundedIconButton, {\n              text: \"search\",\n              handleClick: handleSubmit,\n              svg: /*#__PURE__*/_jsxDEV(\"svg\", {\n                viewBox: \"0 0 512 512\",\n                className: \" fill-white group-hover:fill-orange-500\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M479.6,399.716l-81.084-81.084-62.368-25.767A175.014,175.014,0,0,0,368,192c0-97.047-78.953-176-176-176S16,94.953,16,192,94.953,368,192,368a175.034,175.034,0,0,0,101.619-32.377l25.7,62.2L400.4,478.911a56,56,0,1,0,79.2-79.195ZM48,192c0-79.4,64.6-144,144-144s144,64.6,144,144S271.4,336,192,336,48,271.4,48,192ZM456.971,456.284a24.028,24.028,0,0,1-33.942,0l-76.572-76.572-23.894-57.835L380.4,345.771l76.573,76.572A24.028,24.028,0,0,1,456.971,456.284Z\",\n                  strokeWidth: \"6\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 298,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 19\n            }, this) : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-center items-start flex-wrap gap-3\",\n          children: result\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 116,\n    columnNumber: 5\n  }, this);\n}\n_s(TableDetail, \"jES5/R9kVugVCddzLb+m1bXMR9g=\", false, function () {\n  return [useNavigate, useParams];\n});\n_c = TableDetail;\nvar _c;\n$RefreshReg$(_c, \"TableDetail\");","map":{"version":3,"names":["useEffect","useState","Link","useNavigate","useParams","background","logo","Alert","RoundedIconButton","TOAST","Columns","ColumnsFk","InputRow","RelationsFk","RelationsPk","Result","ForceGraph2D","jsxDEV","_jsxDEV","TableDetail","_s","navigate","name","table","setTable","shown","setShown","attributes","setAttributes","inputs","setInputs","rowsDB","setRowsDB","showDetail","setShowDetail","relationsP","setRelationsP","localGraph","setLocalGraph","nodes","links","fetch","then","res","json","data","id","g","node","find","n","neighbors","Set","forEach","l","source","add","target","filter","has","catch","handleSubmit","event","Object","keys","key","index","isNaN","length","prev","title","warning","text","color","svg","fileName","_jsxFileName","lineNumber","columnNumber","error","preventDefault","columns","columnsFk","relationsPk","relationsFk","inputRow","result","className","children","style","backgroundImage","to","src","alt","rowCount","viewBox","fill","x","y","width","height","cx","cy","r","description","graphData","nodeId","nodeLabel","_n$pkColumns","pkColumns","join","linkDirectionalArrowLength","linkDirectionalArrowRelPos","linkLabel","fkColumn","pkColumn","nodeAutoColorBy","onNodeClick","nodeCanvasObject","ctx","globalScale","label","fontSize","Math","max","font","textWidth","measureText","bckgDimensions","fillStyle","beginPath","arc","PI","lineWidth","strokeStyle","stroke","fillRect","textAlign","textBaseline","fillText","__bckgDimensions","nodePointerAreaPaint","htmlFor","type","onChange","e","handleClick","d","strokeWidth","_c","$RefreshReg$"],"sources":["/home/user5/Desktop/Imbus_Intern/client/src/pages/client/tableDetail/index.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\nimport background from \"../../../assets/images/background4.png\";\nimport logo from \"../../../assets/images/logo.png\";\nimport Alert from \"../../../components/ui/Alert\";\nimport RoundedIconButton from \"../../../components/ui/roundedIconButton\";\nimport { TOAST } from \"../../../data/toast\";\nimport Columns from \"./columns\";\nimport ColumnsFk from \"./columnsFk\";\nimport InputRow from \"./inputRow\";\nimport RelationsFk from \"./relationsFk\";\nimport RelationsPk from \"./relationsPk\";\nimport Result from \"./result\";\nimport ForceGraph2D from \"react-force-graph-2d\";\n\nexport default function TableDetail() {\n  let navigate = useNavigate();\n  const { name } = useParams();\n  const [table, setTable] = useState({});\n  const [shown, setShown] = useState([]);\n  const [attributes, setAttributes] = useState([]);\n  const [inputs, setInputs] = useState({});\n  const [rowsDB, setRowsDB] = useState({});\n  const [showDetail, setShowDetail] = useState(true);\n  const [relationsP, setRelationsP] = useState([]);\n  const [localGraph, setLocalGraph] = useState({ nodes: [], links: [] });\n\n  useEffect(() => {\n    fetch(\"http://localhost:5500/tables/one/\" + name)\n      .then((res) => res.json())\n      .then((data) => {\n        setTable(data);\n        fetch(\"http://localhost:5500/attributes/table/\" + data.id)\n          .then((res) => res.json())\n          .then((data) => setAttributes(data));\n        fetch(\"http://localhost:5500/attributes/name/\" + data.name)\n          .then((res) => res.json())\n          .then((data) => {\n            setRelationsP(data);\n          });\n        fetch(\"http://localhost:5500/tables/graph/view\")\n          .then((res) => res.json())\n          .then((g) => {\n            const node = g.nodes.find((n) => n.name === name);\n            if (!node) return;\n            const neighbors = new Set([node.id]);\n            g.links.forEach((l) => {\n              if (l.source === node.id) neighbors.add(l.target);\n              if (l.target === node.id) neighbors.add(l.source);\n            });\n            const nodes = g.nodes.filter((n) => neighbors.has(n.id));\n            const links = g.links.filter(\n              (l) => neighbors.has(l.source) && neighbors.has(l.target)\n            );\n            setLocalGraph({ nodes, links });\n          });\n      })\n      .catch(() => {\n        navigate(\"/404\");\n      });\n  }, [name]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const handleSubmit = (event) => {\n    setRowsDB({});\n    Object.keys(inputs).forEach(async function (key, index) {\n      if (inputs[key] && !isNaN(inputs[key])) {\n        fetch(`http://localhost:5500/tables/search/${key}/PK/${inputs[key]}`)\n          .then((res) => res.json())\n          .then((data) => {\n            if (data.length > 0) {\n              setRowsDB((prev) => {\n                return {\n                  ...prev,\n                  [key]: data,\n                };\n              });\n            } else {\n              setShown((prev) => [\n                ...prev,\n                <Alert\n                  title={TOAST.warning.title}\n                  text=\"There is not row with this primary key.\"\n                  color={TOAST.warning.color}\n                  svg={TOAST.warning.svg}\n                  key={5}\n                />,\n              ]);\n            }\n          })\n          .catch(() => {\n            setRowsDB({});\n            setInputs({});\n          });\n      } else {\n        setShown((prev) => [\n          ...prev,\n          <Alert\n            title={TOAST.error.title}\n            text=\"Please enter a valid value (number).\"\n            color={TOAST.error.color}\n            svg={TOAST.error.svg}\n            key={5}\n          />,\n        ]);\n      }\n    });\n    event.preventDefault();\n  };\n  const columns = Columns(attributes);\n  const columnsFk = ColumnsFk(attributes);\n  const relationsPk = RelationsPk(relationsP, attributes, table);\n  const relationsFk = RelationsFk(attributes, table);\n  const inputRow = InputRow(attributes, setInputs);\n  const result = Result(rowsDB);\n  return (\n    <div className=\"h-screen w-screen  \">\n      <div className=\"fixed bottom-3 right-0 flex flex-col items-end gap-1 z-30\">\n        {shown}\n      </div>\n      <div\n        className=\"px-8 py-2 text-left mb-5 h-36 bg-gradient-to-r bg-cover bg-left-top  from-teal-400 to-orange-300 w-full\"\n        style={{\n          backgroundImage: `url(${background})`,\n        }}\n      >\n        <span className=\"absolute top-0 left-0 m-0 p-0 bg-gray-700 opacity-20   w-full h-36\"></span>\n        <Link\n          to=\"/home\"\n          className=\"flex flex-col mt-4 items-center justify-center\"\n        >\n          <img src={logo} alt=\"logo\" className=\"h-12 z-20\" />\n          <h2 className=\"block text-2xl font-medium  text-white cursor-default tracking-wider z-20\">\n            TestBench-VS\n          </h2>\n        </Link>\n      </div>\n      <div className=\"flex flex-col justify-center items-center\">\n        <div className=\"max-w-2xl mx-auto sm:max-w-xl md:max-w-2xl mt-6\">\n          <div className=\"text-center\">\n            <div className=\"max-w-xl mb-6 md:mx-auto sm:text-center lg:max-w-2xl md:mb-6\">\n              <div>\n                <p className=\"inline-block px-3 py-2 mb-4 text-xs font-semibold tracking-wider text-white uppercase rounded-full bg-orange-500\">\n                  {table.rowCount} Row\n                </p>\n              </div>\n              <h2 className=\"max-w-lg mb-6 font-sans text-3xl font-bold leading-none tracking-tight text-gray-900 sm:text-4xl md:mx-auto flex justify-start\">\n                <span className=\"relative inline-block \">\n                  <svg\n                    viewBox=\"0 0 52 24\"\n                    fill=\"currentColor\"\n                    className=\"absolute top-0 left-0 hidden w-32 -mt-8 -ml-20 text-blue-gray-100 lg:w-32 lg:-ml-28 lg:-mt-10 sm:block fill-[#3e9688] \"\n                  >\n                    <defs>\n                      <pattern\n                        id=\"b039bae0-fdd5-4311-b198-8557b064fce0\"\n                        x=\"0\"\n                        y=\"0\"\n                        width=\".135\"\n                        height=\".30\"\n                      >\n                        <circle cx=\"1\" cy=\"1\" r=\".7\" />\n                      </pattern>\n                    </defs>\n                    <rect\n                      fill=\"url(#b039bae0-fdd5-4311-b198-8557b064fce0)\"\n                      width=\"52\"\n                      height=\"24\"\n                    />\n                  </svg>\n                </span>\n                <span className=\"z-20 text-left bg-white\"> {table.name}</span>\n              </h2>\n              <p className=\"text-base text-gray-700 md:text-lg\">\n                {table.description ? table.description : \"no description yet\"}\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"flex justify-center mx-auto mb-10 \">\n          <span className=\"inline-block w-40 h-1 bg-orange-400 rounded-full\"></span>\n          <span className=\"inline-block w-3 h-1 mx-1 bg-orange-400 rounded-full\"></span>\n          <span className=\"inline-block w-1 h-1 bg-orange-400 rounded-full\"></span>\n        </div>\n        <div className=\"w-full h-80 px-4 lg:px-20 mb-4\">\n          <div className=\"bg-white rounded shadow p-2 h-full\">\n            <div className=\"text-sm font-semibold mb-1\">Relationships around this table</div>\n            <ForceGraph2D\n              graphData={localGraph}\n              nodeId=\"id\"\n              height={300}\n              nodeLabel={(n) => `${n.name}\\nPKs: ${n.pkColumns?.join(\", \") || \"(none)\"}`}\n              linkDirectionalArrowLength={6}\n              linkDirectionalArrowRelPos={1}\n              linkLabel={(l) => `${l.fkColumn} -> ${l.target}${l.pkColumn ? ` (PK: ${l.pkColumn})` : \"\"}`}\n              nodeAutoColorBy=\"group\"\n              onNodeClick={(node) => navigate(`/table/${node.name}`)}\n              nodeCanvasObject={(node, ctx, globalScale) => {\n                const label = node.name;\n                const fontSize = 12 / Math.max(0.5, globalScale);\n                ctx.font = `${fontSize}px Sans-Serif`;\n                const textWidth = ctx.measureText(label).width;\n                const bckgDimensions = [textWidth + 8, fontSize + 4];\n                ctx.fillStyle = node.color || \"#fff\";\n                ctx.beginPath();\n                ctx.arc(node.x, node.y, 4, 0, 2 * Math.PI, false);\n                ctx.fill();\n                ctx.lineWidth = 2;\n                ctx.strokeStyle = \"#333\";\n                ctx.stroke();\n                ctx.fillStyle = \"rgba(255,255,255,0.9)\";\n                ctx.fillRect(node.x - bckgDimensions[0] / 2, node.y - 12 - bckgDimensions[1] / 2, ...bckgDimensions);\n                ctx.textAlign = \"center\";\n                ctx.textBaseline = \"middle\";\n                ctx.fillStyle = \"#111\";\n                ctx.fillText(label, node.x, node.y - 12);\n                node.__bckgDimensions = bckgDimensions;\n              }}\n              nodePointerAreaPaint={(node, color, ctx) => {\n                const bckgDimensions = node.__bckgDimensions || [0, 0];\n                ctx.fillStyle = color;\n                ctx.fillRect(node.x - bckgDimensions[0] / 2, node.y - 12 - bckgDimensions[1] / 2, ...bckgDimensions);\n              }}\n            />\n          </div>\n        </div>\n        <div className=\"flex justify-center items-center mx-auto mb-5 \">\n          <h3 className=\"px-6 text-xl  italic\">Meta data</h3>\n          <label\n            htmlFor=\"AcceptConditions\"\n            className=\"relative w-16 h-8 cursor-pointer\"\n          >\n            <input\n              type=\"checkbox\"\n              id=\"AcceptConditions\"\n              className=\"sr-only peer\"\n              onChange={(e) => setShowDetail((prev) => !prev)}\n            />\n            <span className=\"absolute inset-0 bg-orange-400 rounded-full transition peer-checked:bg-[#3e9688]\" />\n            <span className=\"absolute inset-0 w-6 h-6 m-1 bg-white rounded-full transition peer-checked:translate-x-8\" />\n          </label>\n\n          <h3 className=\"px-6 text-xl  italic\">Data search</h3>\n        </div>\n        {showDetail ? (\n          <div className=\" relative flex flex-col  lg:flex-row justify-start items-start w-full h-full px-4 lg:px-20 pb-4 gap-2 mt-5 m-5\">\n            <div className=\"w-full h- flex flex-col justify-start items-start m-0 basis-7/12 gap-2 \">\n              <div className=\" flex flex-col gap-2 w-full m-0 p-5   \">\n                <h2 className=\"mb-4 text-lg w-max border-b-2 border-orange-500 \">\n                  Columns\n                </h2>\n                <div\n                  className=\"flex flex-col justify-start items-start gap-2 w-full border-b\n                 border-dashed border-[#3e9688] pb-1\"\n                >\n                  {columns}\n                </div>\n              </div>\n              <div className=\" w-full m-0 p-5 bg-white rounded-lg text-neutral-900 \">\n                <h2 className=\"mb-4 w-max text-lg border-b-2 border-[#3e9688] border-dashed \">\n                  Foreign Keys\n                </h2>\n                <div className=\"flex flex-col justify-start items-start gap-2 w-full\">\n                  {columnsFk.length > 0\n                    ? columnsFk\n                    : \"This table don't have any foreign key.\"}\n                </div>\n              </div>\n            </div>\n\n            <div className=\"w-full flex flex-col justify-start items-start  flex-1 gap-2 mt-9 lg:mt-0 p-5  border-2 border-orange-600 border-dashed rounded-lg self-start \">\n              <h2 className=\"mb-4 text-lg border-b-2 border-[#3e9688] \">\n                Relations\n              </h2>\n              <div className=\"w-full flex flex-col justify-start items-start gap-2\">\n                {relationsPk.length > 0 || relationsFk.length > 0\n                  ? [relationsFk, relationsPk]\n                  : \"This table is not link to any other table :( ...\"}\n              </div>\n            </div>\n          </div>\n        ) : (\n          <div className=\"flex flex-col justify-start items-center gap-6 m-3 p-2 w-full\">\n            <form className=\"flex justify-center items-center flex-col flex-wrap lg:flex-row h-min gap-3 w-fit\">\n              <div className=\"flex justify-center items-center flex-col flex-wrap md:flex-row gap-2\">\n                {inputRow}\n              </div>\n              <div className=\"lg:self-end -mb-1\">\n                {inputRow.length > 0 ? (\n                  <RoundedIconButton\n                    text=\"search\"\n                    handleClick={handleSubmit}\n                    svg={\n                      <svg\n                        viewBox=\"0 0 512 512\"\n                        className=\" fill-white group-hover:fill-orange-500\"\n                      >\n                        <path\n                          d=\"M479.6,399.716l-81.084-81.084-62.368-25.767A175.014,175.014,0,0,0,368,192c0-97.047-78.953-176-176-176S16,94.953,16,192,94.953,368,192,368a175.034,175.034,0,0,0,101.619-32.377l25.7,62.2L400.4,478.911a56,56,0,1,0,79.2-79.195ZM48,192c0-79.4,64.6-144,144-144s144,64.6,144,144S271.4,336,192,336,48,271.4,48,192ZM456.971,456.284a24.028,24.028,0,0,1-33.942,0l-76.572-76.572-23.894-57.835L380.4,345.771l76.573,76.572A24.028,24.028,0,0,1,456.971,456.284Z\"\n                          strokeWidth=\"6\"\n                        ></path>\n                      </svg>\n                    }\n                  />\n                ) : null}\n              </div>\n            </form>\n            <div className=\"flex justify-center items-start flex-wrap gap-3\">\n              {result}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}