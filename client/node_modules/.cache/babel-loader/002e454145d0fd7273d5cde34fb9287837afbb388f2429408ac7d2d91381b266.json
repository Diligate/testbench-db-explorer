{"ast":null,"code":"var _jsxFileName = \"/home/user5/Desktop/Imbus_Intern/client/src/pages/admin/tables.js\",\n  _s = $RefreshSig$();\n// src/pages/client/Tables.js\nimport NavbarAdmin from \"../../components/navBarAdmin\";\nimport SideBar from \"../../components/sideBar\";\nimport TableAction from \"../../components/ui/tableActionTable\";\nimport { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Tables() {\n  _s();\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [allTables, setAllTables] = useState([]);\n  const [summaryData, setSummaryData] = useState([]);\n\n  // Fetch all tables\n  useEffect(() => {\n    fetch(\"/api/tables\").then(res => res.json()).then(data => setAllTables(data)).catch(err => console.error(\"Error fetching tables:\", err));\n  }, []);\n\n  // Fetch summary (row count, foreign key count, etc.)\n  useEffect(() => {\n    fetch(\"/api/dashboard/summary\").then(res => res.json()).then(data => setSummaryData(data)).catch(err => console.error(\"Error fetching summary:\", err));\n  }, []);\n\n  // Merge summary with tables\n  const mergedTables = allTables.map(t => {\n    var _match$rowCount, _match$foreignKeyCoun, _match$primaryKeyColu;\n    const match = summaryData.find(s => s.table.toLowerCase() === t.name.toLowerCase());\n    return {\n      ...t,\n      rowCount: match ? (_match$rowCount = match.rowCount) !== null && _match$rowCount !== void 0 ? _match$rowCount : 0 : 0,\n      foreignKeyCount: match ? (_match$foreignKeyCoun = match.foreignKeyCount) !== null && _match$foreignKeyCoun !== void 0 ? _match$foreignKeyCoun : 0 : 0,\n      primaryKeyColumns: match ? (_match$primaryKeyColu = match.primaryKeyColumns) !== null && _match$primaryKeyColu !== void 0 ? _match$primaryKeyColu : [] : []\n    };\n  });\n\n  // Filter by search\n  const filteredTables = mergedTables.filter(t => t.name.toLowerCase().includes(searchTerm.toLowerCase()));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex\",\n    children: [/*#__PURE__*/_jsxDEV(SideBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1\",\n      children: [/*#__PURE__*/_jsxDEV(NavbarAdmin, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold mb-4\",\n          children: \"Tables\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Search tables...\",\n          className: \"border p-2 rounded mb-4 w-full\",\n          value: searchTerm,\n          onChange: e => setSearchTerm(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",\n          children: filteredTables.map(t => /*#__PURE__*/_jsxDEV(TableAction, {\n            tableName: t.name,\n            description: t.description,\n            totalRows: t.rowCount,\n            totalForeignKeys: t.foreignKeyCount,\n            primaryKeys: t.primaryKeyColumns\n          }, t.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n_s(Tables, \"18pHOsAvJ/YEOorF2NDPPM3n8vQ=\");\n_c = Tables;\nvar _c;\n$RefreshReg$(_c, \"Tables\");","map":{"version":3,"names":["NavbarAdmin","SideBar","TableAction","useEffect","useState","jsxDEV","_jsxDEV","Tables","_s","searchTerm","setSearchTerm","allTables","setAllTables","summaryData","setSummaryData","fetch","then","res","json","data","catch","err","console","error","mergedTables","map","t","_match$rowCount","_match$foreignKeyCoun","_match$primaryKeyColu","match","find","s","table","toLowerCase","name","rowCount","foreignKeyCount","primaryKeyColumns","filteredTables","filter","includes","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","tableName","description","totalRows","totalForeignKeys","primaryKeys","id","_c","$RefreshReg$"],"sources":["/home/user5/Desktop/Imbus_Intern/client/src/pages/admin/tables.js"],"sourcesContent":["// src/pages/client/Tables.js\nimport NavbarAdmin from \"../../components/navBarAdmin\";\nimport SideBar from \"../../components/sideBar\";\nimport TableAction from \"../../components/ui/tableActionTable\";\nimport { useEffect, useState } from \"react\";\n\nexport default function Tables() {\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [allTables, setAllTables] = useState([]);\n  const [summaryData, setSummaryData] = useState([]);\n\n  // Fetch all tables\n  useEffect(() => {\n    fetch(\"/api/tables\")\n      .then((res) => res.json())\n      .then((data) => setAllTables(data))\n      .catch((err) => console.error(\"Error fetching tables:\", err));\n  }, []);\n\n  // Fetch summary (row count, foreign key count, etc.)\n  useEffect(() => {\n    fetch(\"/api/dashboard/summary\")\n      .then((res) => res.json())\n      .then((data) => setSummaryData(data))\n      .catch((err) => console.error(\"Error fetching summary:\", err));\n  }, []);\n\n  // Merge summary with tables\n  const mergedTables = allTables.map((t) => {\n    const match = summaryData.find(\n      (s) => s.table.toLowerCase() === t.name.toLowerCase()\n    );\n\n    return {\n      ...t,\n      rowCount: match ? match.rowCount ?? 0 : 0,\n      foreignKeyCount: match ? match.foreignKeyCount ?? 0 : 0,\n      primaryKeyColumns: match ? match.primaryKeyColumns ?? [] : [],\n    };\n  });\n\n  // Filter by search\n  const filteredTables = mergedTables.filter((t) =>\n    t.name.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  return (\n    <div className=\"flex\">\n      <SideBar />\n      <div className=\"flex-1\">\n        <NavbarAdmin />\n\n        <div className=\"p-6\">\n          <h1 className=\"text-2xl font-bold mb-4\">Tables</h1>\n\n          {/* Search input */}\n          <input\n            type=\"text\"\n            placeholder=\"Search tables...\"\n            className=\"border p-2 rounded mb-4 w-full\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n          />\n\n          {/* Table list */}\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n            {filteredTables.map((t) => (\n              <TableAction\n                key={t.id}\n                tableName={t.name}\n                description={t.description}\n                totalRows={t.rowCount}\n                totalForeignKeys={t.foreignKeyCount}\n                primaryKeys={t.primaryKeyColumns}\n              />\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}